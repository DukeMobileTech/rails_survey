<ng-form name="questionEditorForm" ng-controller="ShowQuestionCtrl">
  <div class="card">
    <div class="card-body card-padding">
      <div class="row m-t-5">
        <label class="col-md-2">Identifier</label>
        <div class="col-md-10">
          <input type="text"
          class="form-control"
          name="question-identifier"
          ng-model="question.question_identifier"
          required>
        </div>
      </div>

      <div class="row m-t-5">
        <label class="col-md-2">Type</label>
        <div class="col-md-10">
          <select
            class="form-control"
            data-placeholder="Select a question type..."
            no-results-text="'This does not match any valid question type'"
            name="question-type"
            id="question-type"
            ng-model="question.question_type"
            ng-options="type for type in questionTypes()"
            required>
            <option value=""></option>
          </select>
        </div>
      </div>

    <div class="row m-5">
      <label class="col-md-2">Text</label>
      <div class="col-md-10">
        <text-angular
          ta-toolbar="toolBar"
          textarea-class="form-control"
          ng-model="question.text"
          ng-required="true">
      </text-angular>
    </div>
  </div>

  <div class="row m-t-5" ng-show="question.question_type && questionTypesWithOptions(question.question_type)">
    <label class="col-md-2">Option Set</label>
    <div class="col-md-8">
      <select
        class="form-control"
        ng-style="{'width' : 600}"
        name="option-set"
        id="option-set"
        ng-model="question.option_set_id"
        ng-options="set.id as set.title for set in optionSets"
        ng-required="questionTypesWithOptions(question.question_type)">
        <option value=""></option>
      </select>
    </div>
    <div class="col-md-1" ng-show="question.option_set_id">
      <a class="btn btn-primary" href="{{baseUrl}}/option_sets/{{question.option_set_id}}">
        <strong>View Options</strong>
      </a>
    </div>
    <div class="col-md-1" ng-show="!question.option_set_id">
      <a class="btn btn-success" href="{{baseUrl}}/option_sets">New Option Set</a>
    </div>
  </div>

  <div class="row m-t-5">
    <label class="col-md-2">Special Options</label>
    <div class="col-md-8">
      <select
        class="form-control"
        ng-style="{'width' : 600}"
        name="special-option-set"
        id="special-option-set"
        ng-model="question.special_option_set_id"
        ng-options="set.id as set.title for set in specialOptionSets">
        <option value=""></option>
      </select>
    </div>
    <div class="col-md-2">
      <a ng-show="question.special_option_set_id" class="btn btn-primary" href="{{baseUrl}}/option_sets/{{question.special_option_set_id}}">
        <strong>View Special Options</strong>
      </a>
      <a ng-hide="question.special_option_set_id" class="btn btn-success" href="{{baseUrl}}/option_sets">New Special Option Set</a>
    </div>
  </div>

<div class="row m-t-5">
  <label class="col-md-2">Instruction</label>
  <div class="col-md-8">
    <select
    class="form-control"
    ng-style="{'width' : 600}"
    name="instruction"
    id="instruction"
    ng-model="question.instruction_id"
    ng-options="instruction.id as instruction.title for instruction in instructions">
      <option value=""></option>
    </select>
  </div>
  <div class="col-md-1" ng-show="question.instruction_id">
    <a class="btn btn-primary" href="{{baseUrl}}/instructions/{{question.instruction_id}}">
      <strong>View Instruction</strong>
    </a>
  </div>
  <div class="col-md-1" ng-show="!question.instruction_id">
    <a class="btn btn-success" href="{{baseUrl}}/instructions">New Instruction</a>
  </div>
</div>

<div class="row m-t-5">
  <label class="col-md-2">Identifiers Survey</label>
  <div class="col-md-10">
    <input class="form-control" type="checkbox" ng-model="question.identifies_survey" name="identifies-survey">
  </div>
</div>

<div class="row m-t-5">
  <label class="col-md-2">Regular Expression Match</label>
  <div class="col-md-10">
    <textarea name="question-regex" class="form-control"
    ng-model="question.reg_ex_validation"></textarea>
  </div>
</div>

<div class="row m-t-5">
  <label for="question-regex" class="col-md-2 c-red">RegEx Failure Message</label>
  <div class="col-md-10">
    <textarea name="question-regex-message" class="form-control"
    ng-model="question.reg_ex_validation_message"></textarea>
  </div>
</div>

<div class="row m-t-5">
  <div class="col-md-4">
    <div class="btn btn-default" ng-click="cancel()">Cancel</div>
  </div>
  <div class="col-md-4" ng-show="question.id">
    <div class="btn btn-danger" ng-click="deleteQuestion()">Delete</div>
  </div>
  <div class="col-md-4">
    <div class="btn btn-success" ng-disabled="questionEditorForm.$invalid"
    ng-click="saveQuestion()">Save</div>
  </div>
</div>
</div>
</div>
</ng-form>
