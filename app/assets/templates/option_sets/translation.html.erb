<div ng-controller="OptionSetTranslationsCtrl">
  <h4 class="text-center">{{optionSet.title}}</h4>
  <div class="row">
    <label class="col-sm-4 text-right">Language</label>
    <div class="col-sm-8 form-group text-left">
      <select
        class="form-control"
        ng-model="language"
        ng-options="language[1] as language[0] for language in languages"
        ng-change="updateLanguage()"
      >
      </select>
    </div>
  </div>

<div class="card">
  <div class="card-body card-padding">
    <table class="table table-hover">
      <thead>
      <tr>
        <th>Option</th>
        <th>Translations</th>
      </tr>
      </thead>
      <tbody>
      <tr ng-repeat="option in options">
        <td>{{option.text}}</td>
        <td>
          <div ng-if="translationsFor(option).length == 1">{{translationsFor(option)[0].text}}</div>
          <div ng-if="translationsFor(option).length > 1">
            <table>
              <thead>
                <th>Translation</th>
                <th>Back Translation</th>
                <th>Select One</th>
              </thead>
              <tbody>
                <tr ng-repeat="optionSetTranslation in translationsFor(option)">
                  <td>{{optionSetTranslation.text}}</td>
                  <td>{{backTranslationFor(optionSetTranslation).text}}</td>
                  <td>
                    <input type="checkbox" ng-model="optionSetTranslation.checked" ng-change="newSelection(optionSetTranslation)">
                  </td>
                </tr>
              </tbody>
            </table>
            <div class="btn btn-success" ng-click="save(translationsFor(option))">Save</div>
          </div>
        </td>
      </tr>
      </tbody>
    </table>
    </div>
  </div>
</div>
