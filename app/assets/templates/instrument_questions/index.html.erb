<h4 class="text-center"><strong>Instrument Questions</strong></h4>
<div ng-controller="InstrumentQuestionsCtrl">
  <div class="card">
    <div class="card-header">
      <div class="row">
        <div class="col-md-4">
          <div class="btn btn-sm btn-primary" ng-click="newInstrumentQuestion()">
            Add New Question
          </div>
        </div>
        <div class="col-md-4">
          <div class="btn btn-sm btn-primary" ng-click="newIQFromSet()">
            Add Question from sets
          </div>
        </div>
        <div class="col-md-4">
          <a class="btn btn-sm btn-primary" href="/projects/{{project_id}}/instruments/{{instrument_id}}/instrument_question_sets">
            Add All Questions From Set
          </a>
        </div>
      </div>
    </div>

    <div ng-show="showNewView && !showFromSet" class="card-body card-padding">
      <h4 class="text-center"><strong>New Instrument Question</strong></h4>
      <div class="row">
        <label class="col-md-3">Question Set</label>
        <div class="col-md-9">
          <select
          class="form-control"
          allow-single-deselect="true"
          data-placeholder="Select question set to host question"
          name="new-question-question-set"
          ng-model="questionSetId"
          ng-options="set.id as set.title for set in questionSets">
          <option value="">None</option>
        </select>
      </div>
    </div>
    <div class="row text-center m-5">
      <div class="btn btn-success" ng-click="next(questionSetId)">Next</div>
    </div>
  </div>

  <div ng-show="!showNewView && showFromSet" class="card-body card-padding">
    <h4 class="text-center"><strong>New Instrument Question From Set</strong></h4>
    <div class="row">
      <label class="col-md-3">Question Set</label>
      <div class="col-md-9">
        <select
        class="form-control"
        allow-single-deselect="true"
        data-placeholder="Select question set to choose questions from"
        name="new-question-from-question-set"
        ng-model="questionSetId"
        ng-change="getQuestions(questionSetId)"
        ng-options="set.id as set.title for set in questionSets">
      </select>
    </div>
  </div>
  <div class="row" ng-show="questionSetId">
    <h5 class=text-center>Questions In Set</h5>
    <div class="row">
      <span class="col-md-4" ng-repeat="question in questions">
        <input type="checkbox" ng-model="question.checked" />
        {{question.question_identifier}}
      </span>
    </div>
  </div>
  <div class="row text-center m-5">
    <div class="btn btn-success" ng-click="nextFromSet()">Next</div>
  </div>
</div>

<div ng-show="!showNewView && !showFromSet" class="card-body card-padding">
  <table class="table table-hover">
    <thead>
      <tr>
        <th class="col-md-1">Number</th>
        <th class="col-md-2">Type</th>
        <th class="col-md-2">Identifier</th>
        <th class="col-md-4">Text</th>
        <th class="col-md-1">Actions</th>
      </tr>
    </thead>
    <tbody ui-sortable="sortableInstrumentQuestions" ng-model="instrumentQuestions">
      <tr ng-repeat="instrumentQuestion in instrumentQuestions | orderBy:'number_in_instrument'">
        <td class="col-md-1">
          <a class="btn bgm-teal moveInstrumentQuestion">
            <i class="md-swap-vert">{{instrumentQuestion.number_in_instrument}}</i>
          </a>
        </td>
        <td class="col-md-2">{{instrumentQuestion.type}}</td>
        <td class="col-md-2">
          <a href="/question_sets/{{instrumentQuestion.question_set_id}}/questions/{{instrumentQuestion.question_id}}">
            {{instrumentQuestion.identifier}}
          </a>
        </td>
        <td class="col-md-4">{{instrumentQuestion.text}}</td>
        <td class="col-md-3">
          <a class="btn btn-success" href="/projects/{{project_id}}/instruments/{{instrument_id}}/instrument_questions/{{instrumentQuestion.id}}">
            Logic
          </a>
          <div class="btn btn-danger" ng-click="deleteInstrumentQuestion(instrumentQuestion)">Delete</div>
        </td>
      </tr>
    </tbody>
  </table>
</div>
</div>
</div>
